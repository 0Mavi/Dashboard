/* ========================================================= */
/* 1. CONFIGURAÇÃO DE CORES COM VARIÁVEIS CSS (TAILWIND/SHADCN) */
/* ========================================================= */

:root {
    --rbc-bg: var(--background);
    --rbc-text: var(--foreground);
    --rbc-border-color: var(--border);
    --rbc-today-bg: var(--muted); 
    --rbc-highlight-bg: var(--accent);
    --rbc-event-color: var(--primary); 
    --rbc-event-text: var(--primary-foreground);
    --rbc-off-range-bg-color: transparent; 
    --rbc-off-range-text: var(--muted-foreground);
}

.dark {
    /* Fundo principal dos dias do mês (PRETO PURO ou quase) */
    --rbc-bg: 240 10% 2%; 
    --rbc-text: var(--foreground);
    --rbc-border-color: var(--border);
    --rbc-today-bg: var(--muted); 
    --rbc-highlight-bg: var(--accent);
    --rbc-event-color: var(--primary);
    --rbc-event-text: var(--primary-foreground);
    /* Fundo dos dias fora do mês (O cinza claro da imagem) */
    --rbc-off-range-bg-color: 240 3.7% 85%; 
    --rbc-off-range-text: 240 5% 40%; /* Texto escuro nesses dias */
}


/* ========================================================= */
/* 2. ESTILOS GERAIS E LAYOUT */
/* ========================================================= */

.rbc-calendar {
    font-family: var(--font-geist-sans);
    background-color: var(--rbc-border-color);
    color: var(--rbc-text);
    border: 1px solid var(--rbc-border-color);
    border-radius: 8px;
    font-size: 1rem;
}

/* ========================================================= */
/* 3. TOOLBAR (TOPO - NAVEGAÇÃO) */
/* ========================================================= */

.rbc-toolbar {
    background-color: var(--rbc-bg);
    border-bottom: 1px solid var(--rbc-border-color);
    padding: 12px 16px;
    color: var(--rbc-text);
}

.rbc-btn-group button {
    background-color: transparent !important;
    color: var(--rbc-text) !important;
    border: 1px solid var(--rbc-border-color) !important;
    border-radius: 4px;
}
.rbc-btn-group button:hover,
.rbc-btn-group button.rbc-active {
    background-color: var(--rbc-highlight-bg) !important;
    box-shadow: none !important;
}

.rbc-toolbar-label {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--rbc-text);
}


/* ========================================================= */
/* 4. GRADE E CÉLULAS */
/* ========================================================= */

.rbc-header {
    background-color: var(--rbc-bg);
    border-bottom: 1px solid var(--rbc-border-color);
    border-right: 1px solid var(--rbc-border-color);
    padding: 6px 0;
    font-weight: 500;
    font-size: 0.85rem;
    color: var(--rbc-text);
}

.rbc-day-bg + .rbc-day-bg {
    border-left: 1px solid var(--rbc-border-color);
}
.rbc-row-content {
    border-top: 1px solid var(--rbc-border-color);
}

.rbc-date-cell {
    padding: 6px;
    text-align: right;
    font-size: 0.9rem;
    color: var(--rbc-text);
}

.rbc-off-range-bg {
    background-color: var(--rbc-off-range-bg-color);
}
.rbc-off-range .rbc-date-cell {
    color: var(--rbc-off-range-text);
}

.rbc-today {
    background-color: var(--rbc-today-bg) !important;
}

.rbc-today .rbc-date-cell {
    position: relative;
    font-weight: 700;
    z-index: 2;
    color: var(--primary);
}

.rbc-today .rbc-date-cell::before {
    content: "";
    position: absolute;
    width: 34px;
    height: 34px;
    border-radius: 50%;
    background-color: var(--primary);
    opacity: 0.08;
    top: 50%;
    right: 4px;
    transform: translateY(-50%);
    z-index: -1;
}

.rbc-today .rbc-date-cell::before {
    transition: opacity 0.2s ease;
}

.rbc-today:hover .rbc-date-cell::before {
    opacity: 0.15;
}

/* ========================================================= */
/* 5. EVENTOS (Planos de Estudo e Tarefas) */
/* ========================================================= */

.rbc-event {
    background-color: var(--rbc-event-color);
    border-radius: 4px;
    padding: 2px 5px;
    font-size: 0.8rem;
    line-height: 1.3;
    color: var(--rbc-event-text);
    border: none;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); 
    transition: background-color 0.2s;
}

.dark .rbc-event {
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);
}

.rbc-event:hover {
    filter: brightness(110%);
}

.rbc-event-content {
    white-space: normal; 
}